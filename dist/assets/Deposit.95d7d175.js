import{p as W,r as o,u as se,b as s,q as B,j as t,c as e,C as a,d as n,H as i,S as c,T as S,B as l}from"./index.ec9b15d8.js";import{p as ie,b as h,a as R}from"./AbiUSDI.bd1a4b5f.js";import{a as ce}from"./AbiCurve.9801ca78.js";/* empty css              */import{N as le,a as de,A as k,M as O,b as z,c as T,d as _,e as j,f as L}from"./chakra-ui-number-input.esm.fac58b90.js";function xe(){const d=W(),p=W(),f=o.exports.useRef(null),[r,Y]=o.exports.useState(""),[u,H]=o.exports.useState(""),[pe,P]=o.exports.useState(""),{isAuthenticated:A,Moralis:ue,account:U,user:M}=se(),[q,V]=o.exports.useState(0),[G,J]=o.exports.useState(0),[K,Q]=o.exports.useState(0),[X,Z]=o.exports.useState(0),[b,$]=o.exports.useState(0),[ee,te]=o.exports.useState(0),D=async()=>{await x.runContractFunction()},w=async()=>{await g.runContractFunction()},E=async()=>{await m.runContractFunction()},v=async()=>{await y.runContractFunction()},ae=async()=>{await C.runContractFunction()},I=async()=>{await F.runContractFunction()},F=s({abi:ce,address:"0x1ecA0B0fd6B4356A4d947dD0D614e73A01d9Bf29",functionName:"getValueAt",params:{curve_address:"0x0000000000000000000000000000000000000000",x_value:ie(b.toString(),"wei")},chain:"fantom"}),C=s({abi:h,address:"0x82bFeD6abB57888365637Fad80DFC13C0F6e44ce",functionName:"reserveRatio",params:{},chain:"fantom"}),x=s({abi:h,address:"0x82bFeD6abB57888365637Fad80DFC13C0F6e44ce",functionName:"_totalSupply",params:{},chain:"fantom"}),g=s({abi:R,address:"0x04068DA6C83AFCFA0e13ba15A6696662335D5B75",functionName:"balanceOf",params:{account:"0x82bFeD6abB57888365637Fad80DFC13C0F6e44ce"},chain:"fantom"}),m=s({abi:R,address:"0x04068DA6C83AFCFA0e13ba15A6696662335D5B75",functionName:"balanceOf",params:{account:u},chain:"fantom"}),y=s({abi:h,address:"0x82bFeD6abB57888365637Fad80DFC13C0F6e44ce",functionName:"balanceOf",params:{account:u},chain:"fantom"}),oe=B({abi:h,contractAddress:"0x82bFeD6abB57888365637Fad80DFC13C0F6e44ce",functionName:"withdraw",params:{usdc_amount:parseInt(r||"0")*10**6}}),ne=B({abi:h,contractAddress:"0x82bFeD6abB57888365637Fad80DFC13C0F6e44ce",functionName:"deposit",params:{usdc_amount:parseInt(r||"0")*10**6}}),re=B({abi:R,contractAddress:"0x04068DA6C83AFCFA0e13ba15A6696662335D5B75",functionName:"approve",params:{spender:"0x82bFeD6abB57888365637Fad80DFC13C0F6e44ce",amount:parseInt(r||"0")*10**6}});return o.exports.useEffect(()=>{A&&(M&&P(M.attributes.ethAddress),U&&H(U))}),o.exports.useEffect(()=>{u&&(D(),w(),E(),v(),ae(),I())},[u]),o.exports.useEffect(()=>{b&&I()},[b]),o.exports.useEffect(()=>{x.data&&V(parseInt(x.data)),g.data&&J(parseInt(g.data)),m.data&&Q(parseInt(m.data)),y.data&&Z(parseInt(y.data)),C.data&&$(parseInt(C.data)),F.data&&te(parseInt(F.data))}),console.log("START"),console.log(u),console.log(x.data),console.log(g.data),console.log(m.data),console.log(y.data),console.log(C.data),console.log(F.data),console.log("END"),t("div",{children:[e(a,{children:t(n,{w:"90%  ",flexDirection:"row",h:"auto",borderWidth:"2px",borderRadius:"3xl",p:"6",boxShadow:"dark-lg",borderColor:"blackAlpha.500",bg:"#393E46",top:"20px",pos:"relative",children:[t(n,{layerStyle:"data",children:[e(a,{children:e(i,{size:"lg",fontFamily:"Montserrat",fontWeight:"bold",children:" Current yield "})}),t(a,{textStyle:"data",children:[(ee/10**16).toFixed(2)," %"]})]}),e(c,{}),t(n,{layerStyle:"data",children:[e(a,{children:e(i,{size:"lg",fontFamily:"Montserrat",fontWeight:"bold",children:" Total USDL supply "})}),t(a,{textStyle:"data",children:[(q/10**18).toFixed(2),"  USDL"]})]}),e(c,{}),t(n,{layerStyle:"data",children:[e(a,{children:e(i,{size:"lg",fontFamily:"Montserrat",fontWeight:"bold",children:" USDC in reserve "})}),t(a,{textStyle:"data",children:[(G/10**6).toFixed(2)," USDC"]})]}),e(c,{}),t(n,{layerStyle:"data",children:[e(a,{children:e(i,{size:"lg",fontFamily:"Montserrat",fontWeight:"bold",children:" Reserve Ratio "})}),t(a,{textStyle:"data",children:[" ",(b/10**16).toFixed(2)," %"]})]})]})}),e(a,{children:e(n,{layerStyle:"background",justifyContent:"center",top:"110px",children:t(n,{layerStyle:"primary",children:[e(a,{children:t(n,{layerStyle:"secondary",children:[e(a,{position:"relative",top:"0px",children:e(i,{size:"lg",fontFamily:"Montserrat",fontWeight:"bold",children:" Your USDC Wallet Balance "})}),e(a,{position:"relative",top:"0px",children:t(S,{textStyle:"data",children:[" ",(K/10**6).toFixed(2)," USDC "]})}),e(a,{position:"relative",top:"5px",children:e(i,{size:"lg",fontFamily:"Montserrat",fontWeight:"bold",children:" Your USDL Wallet Balance "})}),e(a,{position:"relative",top:"5px",children:t(S,{textStyle:"data",children:[" ",(X/10**18).toFixed(2)," USDL"]})})]})}),e(le,{value:r,onChange:N=>{isNaN(+N)||Y(N)},children:e(a,{children:e(de,{borderColor:"grey",borderWidth:"2px",fontWeight:"300",fontFamily:"Montserrat",w:"70%",borderRadius:"30",color:"white",placeholder:"Enter your desired amount",_placeholder:{opacity:1,color:"white",textAlign:"center"},textAlign:"center",top:"30",bg:"gray.600"})})}),e(a,{children:t(n,{w:"80%",children:[e(l,{onClick:p.onOpen,variant:"greenButton",children:" Deposit"}),e(c,{}),e(l,{onClick:d.onOpen,variant:"redButton",children:" Withdraw"}),t(k,{motionPreset:"slideInBottom",leastDestructiveRef:f,onClose:p.onClose,isOpen:p.isOpen,isCentered:!0,children:[e(O,{backdropFilter:"auto",backdropBlur:"10px",bg:"blackAlpha.500"}),"   ",t(z,{bg:"#393E46",borderRadius:"20px",w:"2000px",children:[e(T,{fontFamily:"Montserrat",color:"#EEEEEE",fontWeight:"100",children:"Confirm deposit"}),e(_,{}),e(j,{fontFamily:"Montserrat",color:"#EEEEEE",fontWeight:"500",fontSize:"lg",children:t(a,{children:[" ",t(S,{children:["are you sure you want to deposit ",r," USDC ? "]})," "]})}),e(L,{children:t(n,{gap:"2",children:[e(l,{ref:f,onClick:p.onClose,bgColor:"red.500",w:"12",children:"No"}),e(c,{}),e(l,{bgColor:"green.500",w:"12",onClick:async()=>{A&&(await(await re.fetch()).wait(),await(await ne.fetch()).wait(),D(),w(),E(),v(),p.onClose())},children:"Yes"})]})})]})]}),t(k,{motionPreset:"slideInBottom",leastDestructiveRef:f,onClose:d.onClose,isOpen:d.isOpen,isCentered:!0,children:[e(O,{backdropFilter:"auto",backdropBlur:"10px",bg:"blackAlpha.500"}),"   ",t(z,{bg:"#393E46",borderRadius:"20px",w:"2000px",children:[e(T,{fontFamily:"Montserrat",color:"#EEEEEE",fontWeight:"100",children:"Confirm withdraw"}),e(_,{}),e(j,{fontFamily:"Montserrat",color:"#EEEEEE",fontWeight:"500",fontSize:"lg",children:t(a,{children:[" ",t(S,{children:["are you sure you want to withdraw ",r," USDC ? "]})," "]})}),e(L,{children:t(n,{gap:"2",children:[e(l,{ref:f,onClick:d.onClose,bgColor:"red.500",w:"12",children:"No"}),e(c,{}),e(l,{bgColor:"green.500",w:"12",onClick:async()=>{A&&(await(await oe.fetch()).wait(),D(),w(),E(),v(),d.onClose())},children:"Yes"})]})})]})]})]})})]})})})]})}export{xe as default};
