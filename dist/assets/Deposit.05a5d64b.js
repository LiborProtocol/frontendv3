import{p as W,r as o,u as se,b as i,q as D,j as t,c as e,C as a,d as r,H as s,S as c,T as g,B as l}from"./index.2e6b1144.js";import{p as k,a as x}from"./AbiIERC20.9d3ad542.js";import{a as ce,b as y}from"./AbiCurve.d7ceeeb5.js";/* empty css              */import{N as le,a as de,A as O,M as z,b as T,c as _,d as j,e as L,f as Y}from"./chakra-ui-number-input.esm.e6a10681.js";function ye(){const d=W(),p=W(),b=o.exports.useRef(null),[n,H]=o.exports.useState(""),[u,P]=o.exports.useState(""),[pe,q]=o.exports.useState(""),{isAuthenticated:m,Moralis:ue,account:U,user:M}=se(),[V,G]=o.exports.useState(0),[J,K]=o.exports.useState(0),[Q,X]=o.exports.useState(0),[Z,$]=o.exports.useState(0),[h,ee]=o.exports.useState(0),[te,ae]=o.exports.useState(0),C=async()=>{await F.runContractFunction()},S=async()=>{await v.runContractFunction()},A=async()=>{await B.runContractFunction()},E=async()=>{await R.runContractFunction()},oe=async()=>{await w.runContractFunction()},I=async()=>{await f.runContractFunction()},f=i({abi:ce,address:"0x1F770CCda0Ebaa907B9d2B17E6d318A9F036DB8e",functionName:"getValueAt",params:{curve_address:"0x0000000000000000000000000000000000000000",x_value:k(h.toString(),"wei")},chain:"goerli"}),w=i({abi:y,address:"0x43120a1c70A06b194eaB354d32089f630c43A4b6",functionName:"reserveRatio",params:{},chain:"goerli"}),F=i({abi:y,address:"0x43120a1c70A06b194eaB354d32089f630c43A4b6",functionName:"_totalSupply",params:{},chain:"goerli"}),v=i({abi:x,address:"0x07865c6E87B9F70255377e024ace6630C1Eaa37F",functionName:"balanceOf",params:{account:"0x43120a1c70A06b194eaB354d32089f630c43A4b6"},chain:"goerli"}),B=i({abi:x,address:"0x07865c6E87B9F70255377e024ace6630C1Eaa37F",functionName:"balanceOf",params:{account:u},chain:"goerli"}),R=i({abi:x,address:"0x43120a1c70A06b194eaB354d32089f630c43A4b6",functionName:"balanceOf",params:{account:u},chain:"goerli"}),re=D({abi:y,contractAddress:"0x43120a1c70A06b194eaB354d32089f630c43A4b6",functionName:"withdraw",params:{usdc_amount:parseInt(n||"0")*10**6}}),ne=D({abi:y,contractAddress:"0x43120a1c70A06b194eaB354d32089f630c43A4b6",functionName:"deposit",params:{usdc_amount:parseInt(n||"0")*10**6}}),ie=D({abi:x,contractAddress:"0x07865c6E87B9F70255377e024ace6630C1Eaa37F",functionName:"approve",params:{spender:"0x43120a1c70A06b194eaB354d32089f630c43A4b6",amount:parseInt(n||"0")*10**6}});return o.exports.useEffect(()=>{m&&(M&&q(M.attributes.ethAddress),U&&P(U))}),o.exports.useEffect(()=>{u&&(C(),S(),A(),E(),oe(),I())},[u]),o.exports.useEffect(()=>{h&&I()},[h]),o.exports.useEffect(()=>{F.data&&G(parseInt(F.data)),v.data&&K(parseInt(v.data)),B.data&&X(parseInt(B.data)),R.data&&$(parseInt(R.data)),w.data&&ee(parseInt(w.data)),f.data&&ae(parseInt(f.data))}),console.log("START"),console.log(u),console.log(f.data),console.log(f.error),console.log(k(h.toString(),"wei")),console.log("END"),t("div",{children:[e(a,{children:t(r,{w:"90%  ",flexDirection:"row",h:"auto",borderWidth:"2px",borderRadius:"3xl",p:"6",boxShadow:"dark-lg",borderColor:"blackAlpha.500",bg:"#393E46",top:"20px",pos:"relative",children:[t(r,{layerStyle:"data",children:[e(a,{children:e(s,{size:"lg",fontFamily:"Montserrat",fontWeight:"bold",children:" Current yield "})}),t(a,{textStyle:"data",children:[(te/10**16).toFixed(2)," %"]})]}),e(c,{}),t(r,{layerStyle:"data",children:[e(a,{children:e(s,{size:"lg",fontFamily:"Montserrat",fontWeight:"bold",children:" Total USDL supply "})}),t(a,{textStyle:"data",children:[(V/10**18).toFixed(2),"  USDL"]})]}),e(c,{}),t(r,{layerStyle:"data",children:[e(a,{children:e(s,{size:"lg",fontFamily:"Montserrat",fontWeight:"bold",children:" USDC in reserve "})}),t(a,{textStyle:"data",children:[(J/10**6).toFixed(2)," USDC"]})]}),e(c,{}),t(r,{layerStyle:"data",children:[e(a,{children:e(s,{size:"lg",fontFamily:"Montserrat",fontWeight:"bold",children:" Reserve Ratio "})}),t(a,{textStyle:"data",children:[" ",(h/10**16).toFixed(2)," %"]})]})]})}),e(a,{children:e(r,{layerStyle:"background",justifyContent:"center",top:"110px",children:t(r,{layerStyle:"primary",children:[e(a,{children:t(r,{layerStyle:"secondary",children:[e(a,{position:"relative",top:"0px",children:e(s,{size:"lg",fontFamily:"Montserrat",fontWeight:"bold",children:" Your USDC Wallet Balance "})}),e(a,{position:"relative",top:"0px",children:t(g,{textStyle:"data",children:[" ",(Q/10**6).toFixed(2)," USDC "]})}),e(a,{position:"relative",top:"5px",children:e(s,{size:"lg",fontFamily:"Montserrat",fontWeight:"bold",children:" Your USDL Wallet Balance "})}),e(a,{position:"relative",top:"5px",children:t(g,{textStyle:"data",children:[" ",(Z/10**18).toFixed(2)," USDL"]})})]})}),e(le,{value:n,onChange:N=>{isNaN(+N)||H(N)},children:e(a,{children:e(de,{borderColor:"grey",borderWidth:"2px",fontWeight:"300",fontFamily:"Montserrat",w:"70%",borderRadius:"30",color:"white",placeholder:"Enter your desired amount",_placeholder:{opacity:1,color:"white",textAlign:"center"},textAlign:"center",top:"30",bg:"gray.600"})})}),e(a,{children:t(r,{w:"80%",children:[e(l,{onClick:p.onOpen,variant:"greenButton",children:" Deposit"}),e(c,{}),e(l,{onClick:d.onOpen,variant:"redButton",children:" Withdraw"}),t(O,{motionPreset:"slideInBottom",leastDestructiveRef:b,onClose:p.onClose,isOpen:p.isOpen,isCentered:!0,children:[e(z,{backdropFilter:"auto",backdropBlur:"10px",bg:"blackAlpha.500"}),"   ",t(T,{bg:"#393E46",borderRadius:"20px",w:"2000px",children:[e(_,{fontFamily:"Montserrat",color:"#EEEEEE",fontWeight:"100",children:"Confirm deposit"}),e(j,{}),e(L,{fontFamily:"Montserrat",color:"#EEEEEE",fontWeight:"500",fontSize:"lg",children:t(a,{children:[" ",t(g,{children:["are you sure you want to deposit ",n," USDC ? "]})," "]})}),e(Y,{children:t(r,{gap:"2",children:[e(l,{ref:b,onClick:p.onClose,bgColor:"red.500",w:"12",children:"No"}),e(c,{}),e(l,{bgColor:"green.500",w:"12",onClick:async()=>{m&&(await(await ie.fetch()).wait(),await(await ne.fetch()).wait(),C(),S(),A(),E(),p.onClose())},children:"Yes"})]})})]})]}),t(O,{motionPreset:"slideInBottom",leastDestructiveRef:b,onClose:d.onClose,isOpen:d.isOpen,isCentered:!0,children:[e(z,{backdropFilter:"auto",backdropBlur:"10px",bg:"blackAlpha.500"}),"   ",t(T,{bg:"#393E46",borderRadius:"20px",w:"2000px",children:[e(_,{fontFamily:"Montserrat",color:"#EEEEEE",fontWeight:"100",children:"Confirm withdraw"}),e(j,{}),e(L,{fontFamily:"Montserrat",color:"#EEEEEE",fontWeight:"500",fontSize:"lg",children:t(a,{children:[" ",t(g,{children:["are you sure you want to withdraw ",n," USDC ? "]})," "]})}),e(Y,{children:t(r,{gap:"2",children:[e(l,{ref:b,onClick:d.onClose,bgColor:"red.500",w:"12",children:"No"}),e(c,{}),e(l,{bgColor:"green.500",w:"12",onClick:async()=>{m&&(await(await re.fetch()).wait(),C(),S(),A(),E(),d.onClose())},children:"Yes"})]})})]})]})]})})]})})})]})}export{ye as default};
