import{n as w,r as n,u as ee,a as i,p as v,j as t,c as e,C as a,d as r,H as s,S as c,T as y,B as l}from"./index.66e4f00a.js";import{a as f}from"./AbiIERC20.a932546c.js";import{a as m}from"./AbiUSDI.f4bbdbef.js";import{p as te}from"./index.c7cbedc6.js";import{N as ae,a as ne,A,M as B,b as M,c as R,d as U,e as O,f as W}from"./chakra-ui-number-input.esm.153a8707.js";const re=[{inputs:[{internalType:"address",name:"token_address",type:"address"},{internalType:"address",name:"curve_address",type:"address"}],name:"forceSetCurve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"curve_address",type:"address"},{internalType:"int256",name:"x_value",type:"int256"}],name:"getValueAt",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token_address",type:"address"},{internalType:"address",name:"curve_address",type:"address"}],name:"setCurve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"vault_master_address",type:"address"}],name:"setVaultController",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"vaultControllerAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}];var oe=re;function ge(){const d=w(),u=w(),h=n.exports.useRef(null),[o,k]=n.exports.useState(""),[p,I]=n.exports.useState(""),[ie,N]=n.exports.useState("");n.exports.useState(0);const{isAuthenticated:x,Moralis:se,account:S,user:D}=ee();n.exports.useEffect(()=>{x&&(D&&N(D.attributes.ethAddress),S&&I(S))}),n.exports.useEffect(()=>{p&&(C(),g(),F(),b(),V(),L())},[p]),n.exports.useEffect(()=>{});const[T,ce]=n.exports.useState(0),[_,le]=n.exports.useState(0),[z,de]=n.exports.useState(0),[j,ue]=n.exports.useState(0),[Y,pe]=n.exports.useState(0),[H,he]=n.exports.useState(0),C=async()=>{await $.runContractFunction()},g=async()=>{await q.runContractFunction()},F=async()=>{await G.runContractFunction()},b=async()=>{await J.runContractFunction()},V=async()=>{await E.runContractFunction()},L=async()=>{await P.runContractFunction()},E=i({abi:oe,address:"0x1244D0A848DCad94A5e7e6270aa5aA950E8c9Dc6",functionName:"getValueAt",params:{curve_address:"0x0000000000000000000000000000000000000000",x_value:te("0.25","ether")},chain:"goerli"}),P=i({abi:m,address:"0xB8Af8C538EE795e5D79cD74F0D00B10FF4a00918",functionName:"reserveRatio",params:{},chain:"goerli"}),$=i({abi:m,address:"0xB8Af8C538EE795e5D79cD74F0D00B10FF4a00918",functionName:"_totalSupply",params:{},chain:"goerli"}),q=i({abi:f,address:"0x07865c6E87B9F70255377e024ace6630C1Eaa37F",functionName:"balanceOf",params:{account:"0xB8Af8C538EE795e5D79cD74F0D00B10FF4a00918"},chain:"goerli"}),G=i({abi:f,address:"0x07865c6E87B9F70255377e024ace6630C1Eaa37F",functionName:"balanceOf",params:{account:p},chain:"goerli"}),J=i({abi:f,address:"0xB8Af8C538EE795e5D79cD74F0D00B10FF4a00918",functionName:"balanceOf",params:{account:p},chain:"goerli"}),K=v({abi:m,contractAddress:"0xB8Af8C538EE795e5D79cD74F0D00B10FF4a00918",functionName:"withdraw",params:{usdc_amount:parseInt(o||"0")*10**6}}),Q=v({abi:m,contractAddress:"0xB8Af8C538EE795e5D79cD74F0D00B10FF4a00918",functionName:"deposit",params:{usdc_amount:parseInt(o||"0")*10**6}}),X=v({abi:f,contractAddress:"0x07865c6E87B9F70255377e024ace6630C1Eaa37F",functionName:"approve",params:{spender:"0xB8Af8C538EE795e5D79cD74F0D00B10FF4a00918",amount:parseInt(o||"0")*10**6}});return console.log(p),console.log(E.error),console.log(E.data),t("div",{children:[e(a,{children:t(r,{w:"90%",flexDirection:"row",h:"auto",borderWidth:"2px",borderRadius:"3xl",p:"6",boxShadow:"dark-lg",borderColor:"blackAlpha.500",bg:"#393E46",top:"20px",pos:"relative",children:[t(r,{layerStyle:"data",children:[e(a,{children:e(s,{size:"lg",fontFamily:"Merienda One",fontWeight:"900",children:" Current yield "})}),t(a,{textStyle:"data",children:[T/10**16," %"]})]}),e(c,{}),t(r,{layerStyle:"data",children:[e(a,{children:e(s,{size:"lg",fontFamily:"Merienda One",fontWeight:"900",children:" Total USDI supply "})}),t(a,{textStyle:"data",children:[(z/10**18).toFixed(2),"  USDI"]})]}),e(c,{}),t(r,{layerStyle:"data",children:[e(a,{children:e(s,{size:"lg",fontFamily:"Merienda One",fontWeight:"900",children:" Reserve Ratio "})}),t(a,{textStyle:"data",children:[" ",(_/10**18).toFixed(2)," %"]})]}),e(c,{}),t(r,{layerStyle:"data",children:[e(a,{children:e(s,{size:"lg",fontFamily:"Merienda One",fontWeight:"900",children:" USDC in reserve "})}),t(a,{textStyle:"data",children:[(j/10**6).toFixed(2)," USDC"]})]})]})}),e(a,{children:e(r,{layerStyle:"background",justifyContent:"center",top:"110px",children:t(r,{layerStyle:"primary",children:[e(a,{children:t(r,{layerStyle:"secondary",children:[e(a,{position:"relative",top:"-6px",children:e(s,{size:"lg",fontFamily:"Merienda One",fontWeight:"900",children:" Your USDC Wallet Balance "})}),e(a,{position:"relative",top:"-6px",children:t(y,{textStyle:"data",children:[" ",(Y/10**6).toFixed(2)," USDC "]})}),e(a,{position:"relative",top:"10px",children:e(s,{size:"md",fontFamily:"Merienda One",fontWeight:"900",children:" Your USDL Wallet Balance "})}),e(a,{position:"relative",top:"10px",children:t(y,{textStyle:"dataSmall",children:[" ",(H/10**18).toFixed(2)," USDL"]})})]})}),e(ae,{variant:"NumberInputField",value:o,onChange:Z=>k(Z),children:e(a,{children:e(ne,{borderColor:"grey",borderWidth:"2px",fontWeight:"300",fontFamily:"Merienda One",w:"70%",borderRadius:"30",color:"white",placeholder:"Enter your desired amount",_placeholder:{opacity:1,color:"white",textAlign:"center"},textAlign:"center",top:"30",bg:"gray.600"})})}),e(a,{children:t(r,{w:"80%",children:[e(l,{onClick:u.onOpen,variant:"greenButton",children:" Deposit"}),e(c,{}),e(l,{onClick:d.onOpen,variant:"redButton",children:" Withdraw"}),t(A,{motionPreset:"slideInBottom",leastDestructiveRef:h,onClose:u.onClose,isOpen:u.isOpen,isCentered:!0,children:[e(B,{backdropFilter:"auto",backdropBlur:"10px",bg:"blackAlpha.500"}),"   ",t(M,{bg:"#393E46",borderRadius:"20px",w:"2000px",children:[e(R,{fontFamily:"Merienda One",color:"#EEEEEE",fontWeight:"100",children:"Confirm deposit"}),e(U,{}),e(O,{fontFamily:"Merienda One",color:"#EEEEEE",fontWeight:"500",fontSize:"lg",children:t(a,{children:[" ",t(y,{children:["are you sure you want to deposit ",o," USDC ? "]})," "]})}),e(W,{children:t(r,{gap:"2",children:[e(l,{ref:h,onClick:u.onClose,bgColor:"red.500",w:"12",children:"No"}),e(c,{}),e(l,{bgColor:"green.500",w:"12",onClick:async()=>{x&&(await(await X.fetch()).wait(),await(await Q.fetch()).wait(),C(),g(),F(),b(),u.onClose())},children:"Yes"})]})})]})]}),t(A,{motionPreset:"slideInBottom",leastDestructiveRef:h,onClose:d.onClose,isOpen:d.isOpen,isCentered:!0,children:[e(B,{backdropFilter:"auto",backdropBlur:"10px",bg:"blackAlpha.500"}),"   ",t(M,{bg:"#393E46",borderRadius:"20px",w:"2000px",children:[e(R,{fontFamily:"Merienda One",color:"#EEEEEE",fontWeight:"100",children:"Confirm withdraw"}),e(U,{}),e(O,{fontFamily:"Merienda One",color:"#EEEEEE",fontWeight:"500",fontSize:"lg",children:t(a,{children:[" ",t(y,{children:["are you sure you want to withdraw ",o," USDC ? "]})," "]})}),e(W,{children:t(r,{gap:"2",children:[e(l,{ref:h,onClick:d.onClose,bgColor:"red.500",w:"12",children:"No"}),e(c,{}),e(l,{bgColor:"green.500",w:"12",onClick:async()=>{x&&(await(await K.fetch()).wait(),C(),g(),F(),b(),d.onClose())},children:"Yes"})]})})]})]})]})})]})})})]})}export{ge as default};
