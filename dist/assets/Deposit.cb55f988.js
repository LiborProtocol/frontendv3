import{n as R,r as n,u as ie,a as i,p as B,j as t,c as e,C as a,d as r,H as s,S as c,T as y,B as l}from"./index.fabb03ce.js";import{a as m}from"./AbiIERC20.a932546c.js";import{a as x}from"./AbiUSDI.f4bbdbef.js";import{p as se}from"./index.ace3187c.js";import{N as ce,a as le,A as U,M as O,b as W,c as k,d as N,e as T,f as _}from"./chakra-ui-number-input.esm.b6d67f9f.js";const de=[{inputs:[{internalType:"address",name:"token_address",type:"address"},{internalType:"address",name:"curve_address",type:"address"}],name:"forceSetCurve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"curve_address",type:"address"},{internalType:"int256",name:"x_value",type:"int256"}],name:"getValueAt",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token_address",type:"address"},{internalType:"address",name:"curve_address",type:"address"}],name:"setCurve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"vault_master_address",type:"address"}],name:"setVaultController",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"vaultControllerAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}];var pe=de;function ge(){const d=R(),p=R(),f=n.exports.useRef(null),[o,z]=n.exports.useState(""),[u,j]=n.exports.useState(""),[ue,Y]=n.exports.useState("");n.exports.useState(0);const{isAuthenticated:C,Moralis:he,account:M,user:I}=ie();n.exports.useEffect(()=>{C&&(I&&Y(I.attributes.ethAddress),M&&j(M))}),n.exports.useEffect(()=>{u&&(g(),F(),b(),E(),ee(),te())},[u]),n.exports.useEffect(()=>{h.data&&V(parseInt(h.data)),v.data&&P(parseInt(v.data)),S.data&&q(parseInt(S.data)),D.data&&J(parseInt(D.data)),w.data&&Q(parseInt(w.data)),A.data&&Z(parseInt(A.data))});const[H,V]=n.exports.useState(0),[L,P]=n.exports.useState(0),[$,q]=n.exports.useState(0),[G,J]=n.exports.useState(0),[K,Q]=n.exports.useState(0),[X,Z]=n.exports.useState(0),g=async()=>{await S.runContractFunction()},F=async()=>{await D.runContractFunction()},b=async()=>{await w.runContractFunction()},E=async()=>{await A.runContractFunction()},ee=async()=>{await h.runContractFunction()},te=async()=>{await v.runContractFunction()},h=i({abi:pe,address:"0x1244D0A848DCad94A5e7e6270aa5aA950E8c9Dc6",functionName:"getValueAt",params:{curve_address:"0x0000000000000000000000000000000000000000",x_value:se("0.25","ether")},chain:"goerli"}),v=i({abi:x,address:"0xB8Af8C538EE795e5D79cD74F0D00B10FF4a00918",functionName:"reserveRatio",params:{},chain:"goerli"}),S=i({abi:x,address:"0xB8Af8C538EE795e5D79cD74F0D00B10FF4a00918",functionName:"_totalSupply",params:{},chain:"goerli"}),D=i({abi:m,address:"0x07865c6E87B9F70255377e024ace6630C1Eaa37F",functionName:"balanceOf",params:{account:"0xB8Af8C538EE795e5D79cD74F0D00B10FF4a00918"},chain:"goerli"}),w=i({abi:m,address:"0x07865c6E87B9F70255377e024ace6630C1Eaa37F",functionName:"balanceOf",params:{account:u},chain:"goerli"}),A=i({abi:m,address:"0xB8Af8C538EE795e5D79cD74F0D00B10FF4a00918",functionName:"balanceOf",params:{account:u},chain:"goerli"}),ae=B({abi:x,contractAddress:"0xB8Af8C538EE795e5D79cD74F0D00B10FF4a00918",functionName:"withdraw",params:{usdc_amount:parseInt(o||"0")*10**6}}),ne=B({abi:x,contractAddress:"0xB8Af8C538EE795e5D79cD74F0D00B10FF4a00918",functionName:"deposit",params:{usdc_amount:parseInt(o||"0")*10**6}}),re=B({abi:m,contractAddress:"0x07865c6E87B9F70255377e024ace6630C1Eaa37F",functionName:"approve",params:{spender:"0xB8Af8C538EE795e5D79cD74F0D00B10FF4a00918",amount:parseInt(o||"0")*10**6}});return console.log(u),console.log(h.error),console.log(h.data),t("div",{children:[e(a,{children:t(r,{w:"90%",flexDirection:"row",h:"auto",borderWidth:"2px",borderRadius:"3xl",p:"6",boxShadow:"dark-lg",borderColor:"blackAlpha.500",bg:"#393E46",top:"20px",pos:"relative",children:[t(r,{layerStyle:"data",children:[e(a,{children:e(s,{size:"lg",fontFamily:"Merienda One",fontWeight:"900",children:" Current yield "})}),t(a,{textStyle:"data",children:[H/10**16," %"]})]}),e(c,{}),t(r,{layerStyle:"data",children:[e(a,{children:e(s,{size:"lg",fontFamily:"Merienda One",fontWeight:"900",children:" Total USDI supply "})}),t(a,{textStyle:"data",children:[($/10**18).toFixed(2),"  USDI"]})]}),e(c,{}),t(r,{layerStyle:"data",children:[e(a,{children:e(s,{size:"lg",fontFamily:"Merienda One",fontWeight:"900",children:" Reserve Ratio "})}),t(a,{textStyle:"data",children:[" ",(L/10**16).toFixed(2)," %"]})]}),e(c,{}),t(r,{layerStyle:"data",children:[e(a,{children:e(s,{size:"lg",fontFamily:"Merienda One",fontWeight:"900",children:" USDC in reserve "})}),t(a,{textStyle:"data",children:[(G/10**6).toFixed(2)," USDC"]})]})]})}),e(a,{children:e(r,{layerStyle:"background",justifyContent:"center",top:"110px",children:t(r,{layerStyle:"primary",children:[e(a,{children:t(r,{layerStyle:"secondary",children:[e(a,{position:"relative",top:"-6px",children:e(s,{size:"lg",fontFamily:"Merienda One",fontWeight:"900",children:" Your USDC Wallet Balance "})}),e(a,{position:"relative",top:"-6px",children:t(y,{textStyle:"data",children:[" ",(K/10**6).toFixed(2)," USDC "]})}),e(a,{position:"relative",top:"10px",children:e(s,{size:"md",fontFamily:"Merienda One",fontWeight:"900",children:" Your USDL Wallet Balance "})}),e(a,{position:"relative",top:"10px",children:t(y,{textStyle:"dataSmall",children:[" ",(X/10**18).toFixed(2)," USDL"]})})]})}),e(ce,{variant:"NumberInputField",value:o,onChange:oe=>z(oe),children:e(a,{children:e(le,{borderColor:"grey",borderWidth:"2px",fontWeight:"300",fontFamily:"Merienda One",w:"70%",borderRadius:"30",color:"white",placeholder:"Enter your desired amount",_placeholder:{opacity:1,color:"white",textAlign:"center"},textAlign:"center",top:"30",bg:"gray.600"})})}),e(a,{children:t(r,{w:"80%",children:[e(l,{onClick:p.onOpen,variant:"greenButton",children:" Deposit"}),e(c,{}),e(l,{onClick:d.onOpen,variant:"redButton",children:" Withdraw"}),t(U,{motionPreset:"slideInBottom",leastDestructiveRef:f,onClose:p.onClose,isOpen:p.isOpen,isCentered:!0,children:[e(O,{backdropFilter:"auto",backdropBlur:"10px",bg:"blackAlpha.500"}),"   ",t(W,{bg:"#393E46",borderRadius:"20px",w:"2000px",children:[e(k,{fontFamily:"Merienda One",color:"#EEEEEE",fontWeight:"100",children:"Confirm deposit"}),e(N,{}),e(T,{fontFamily:"Merienda One",color:"#EEEEEE",fontWeight:"500",fontSize:"lg",children:t(a,{children:[" ",t(y,{children:["are you sure you want to deposit ",o," USDC ? "]})," "]})}),e(_,{children:t(r,{gap:"2",children:[e(l,{ref:f,onClick:p.onClose,bgColor:"red.500",w:"12",children:"No"}),e(c,{}),e(l,{bgColor:"green.500",w:"12",onClick:async()=>{C&&(await(await re.fetch()).wait(),await(await ne.fetch()).wait(),g(),F(),b(),E(),p.onClose())},children:"Yes"})]})})]})]}),t(U,{motionPreset:"slideInBottom",leastDestructiveRef:f,onClose:d.onClose,isOpen:d.isOpen,isCentered:!0,children:[e(O,{backdropFilter:"auto",backdropBlur:"10px",bg:"blackAlpha.500"}),"   ",t(W,{bg:"#393E46",borderRadius:"20px",w:"2000px",children:[e(k,{fontFamily:"Merienda One",color:"#EEEEEE",fontWeight:"100",children:"Confirm withdraw"}),e(N,{}),e(T,{fontFamily:"Merienda One",color:"#EEEEEE",fontWeight:"500",fontSize:"lg",children:t(a,{children:[" ",t(y,{children:["are you sure you want to withdraw ",o," USDC ? "]})," "]})}),e(_,{children:t(r,{gap:"2",children:[e(l,{ref:f,onClick:d.onClose,bgColor:"red.500",w:"12",children:"No"}),e(c,{}),e(l,{bgColor:"green.500",w:"12",onClick:async()=>{C&&(await(await ae.fetch()).wait(),g(),F(),b(),E(),d.onClose())},children:"Yes"})]})})]})]})]})})]})})})]})}export{ge as default};
