import{p as R,r as o,u as We,b as f,a as De,q as M,j as t,c as e,C as n,d as c,H as z,B as i,S as u,T as y}from"./index.3f80b456.js";import{a as K,p as I}from"./AbiIERC20.596d0ef6.js";import{a as p,c as ae,P as Ne,b as Te}from"./AbiVaultController.bece0918.js";/* empty css              */import{M as Re,a as ze,C as Ie,b as Ue,c as U,d as Q}from"./chakra-ui-icons.esm.f6c7a148.js";import{T as Ve,a as Pe,b as ie,c as E,d as s,e as ce,f as a}from"./chakra-ui-table.esm.a492a06b.js";import{N as le,a as se,A as V,M as P,b as L,c as Y,d as _,e as H,f as j}from"./chakra-ui-number-input.esm.18e30c85.js";function Ke(){var ne;const x="#393E46",w=R(),b=R(),C=R(),B=R(),[S,de]=o.exports.useState(""),[A,he]=o.exports.useState(""),l=o.exports.useRef(null),[Z,k]=o.exports.useState("WFTM"),ee=async()=>{await D.runContractFunction()},fe=async()=>{await N.runContractFunction()},v=async()=>{await X.runContractFunction()},$=async()=>{await J.runContractFunction()},ue=async()=>{await q.runContractFunction()},pe=async()=>{await T.runContractFunction()},be=async()=>{await G.runContractFunction()},[g,ge]=o.exports.useState(""),[Le,me]=o.exports.useState(""),[r,ye]=o.exports.useState(""),[m,Ee]=o.exports.useState(""),[O,xe]=o.exports.useState(0),[d,we]=o.exports.useState(0),[W,Ce]=o.exports.useState(1e-6),[Ye,Be]=o.exports.useState(0),[Se,Ae]=o.exports.useState(0),{isAuthenticated:h,Moralis:_e,account:te,user:oe}=We();o.exports.useEffect(()=>{h&&(oe&&me(oe.attributes.ethAddress),te&&ge(te))}),o.exports.useEffect(()=>{g&&ee()},[g]),o.exports.useEffect(()=>{D.data&&ye(D.data)}),o.exports.useEffect(()=>{r.length>0&&fe()},[r]),o.exports.useEffect(()=>{N.data&&Ee(N.data)}),o.exports.useEffect(()=>{m.length>0&&v()},[m]),o.exports.useEffect(()=>{X.data&&xe(parseInt(X.data))}),o.exports.useEffect(()=>{r.length>0&&$()},[r]),o.exports.useEffect(()=>{J.data&&we(parseInt(J.data))}),o.exports.useEffect(()=>{r.length>0&&ue()},[r]),o.exports.useEffect(()=>{q.data&&Ce(parseInt(q.data))}),o.exports.useEffect(()=>{r.length>0&&pe()},[r]),o.exports.useEffect(()=>{T.data&&Ae(parseInt(T.data))}),o.exports.useEffect(()=>{r.length>0&&be()},[r]),o.exports.useEffect(()=>{G.data&&Be(parseInt(G.data))});const D=f({abi:p,address:"0xd41f5846f04ace38c231163770466ed7BA1DfCBd",functionName:"vaultIDs",params:{wallet:g},chain:"goerli"}),N=f({abi:p,address:"0xd41f5846f04ace38c231163770466ed7BA1DfCBd",functionName:"vaultAddress",params:{id:r[0]},chain:"goerli"}),X=f({abi:ae,address:m,functionName:"tokenBalance",params:{addr:"0x21be370d5312f44cb42ce377bc9b8a0cef1a4c83"},chain:"goerli"}),q=f({abi:p,address:"0xd41f5846f04ace38c231163770466ed7BA1DfCBd",functionName:"vaultBorrowingPower",params:{id:r[0]},chain:"goerli"}),J=f({abi:p,address:"0xd41f5846f04ace38c231163770466ed7BA1DfCBd",functionName:"vaultLiability",params:{id:r[0]},chain:"goerli"}),T=f({abi:K,address:"0x21be370d5312f44cb42ce377bc9b8a0cef1a4c83",functionName:"balanceOf",params:{account:g},chain:"goerli"}),G=f({abi:K,address:"0x43120a1c70A06b194eaB354d32089f630c43A4b6",functionName:"balanceOf",params:{account:g},chain:"goerli"}),Fe=De({address:"0x21be370d5312f44cb42ce377bc9b8a0cef1a4c83",chain:"fantom"}),Me=M({abi:p,contractAddress:"0xd41f5846f04ace38c231163770466ed7BA1DfCBd",functionName:"mintVault",params:{}}),re=M({abi:K,contractAddress:"0x21be370d5312f44cb42ce377bc9b8a0cef1a4c83",functionName:"transfer",params:{recipient:m,amount:I(S||"0","ether")}}),ke=M({abi:p,contractAddress:"0xd41f5846f04ace38c231163770466ed7BA1DfCBd",functionName:"borrowUsdi",params:{id:r[0],amount:I(A||"0","ether")}}),ve=M({abi:ae,contractAddress:m,functionName:"withdrawErc20",params:{token_address:"0x21be370d5312f44cb42ce377bc9b8a0cef1a4c83",amount:I(S||"0","ether")}}),Oe=M({abi:p,contractAddress:"0xd41f5846f04ace38c231163770466ed7BA1DfCBd",functionName:"repayUSDi",params:{id:r[0],amount:I(A||"0","ether")}});return console.log("START"),console.log(h),console.log(g),console.log(r),console.log(r.length),console.log(D.data),console.log(N.data),console.log(T.data),console.log(m),console.log(O),console.log(d),console.log(W),console.log("END"),t("div",{children:[t(Ve,{borderWidth:"2px",borderRadius:"3xl",p:"4",flexDirection:"column",justifyContent:"space-between",boxShadow:"dark-lg",borderColor:"blackAlpha.500",bg:x,color:"#EEEEEE",children:[t(Pe,{variant:"simple",color:"#EEEEEE",textStyle:"tableHeader",children:[e(ie,{children:t(E,{children:[e(s,{color:"cyan.600",fontFamily:"Montserrat",fontSize:"md",children:" Your deposited Assets"}),e(s,{color:"cyan.600",fontFamily:"Montserrat",fontSize:"md",children:" Your Value deposited"}),e(s,{color:"cyan.600",fontFamily:"Montserrat",fontSize:"md",children:" Your Value deposited in $"}),e(s,{color:"cyan.600",fontFamily:"Montserrat",fontSize:"md",children:" Loan-To-Value"})]})}),t(ce,{fontFamily:"Montserrat",fontSize:"xl",fontWeight:"light",children:[t(E,{children:[e(a,{children:"SOON !"}),e(a,{children:"SOON !"}),e(a,{children:"SOON !"}),e(a,{children:"SOON !"})]}),t(E,{children:[e(a,{children:"Wrapped Ethereum WETH"}),t(a,{children:[(O/10**18).toFixed(4)," WETH"]}),t(a,{children:[(parseInt(JSON.stringify((ne=Fe.data)==null?void 0:ne.usdPrice,null,2))*O/10**18).toFixed(2),"$"]}),e(a,{children:"85%"})]}),t(E,{children:[e(a,{children:"SOON !"}),e(a,{children:"SOON !"}),e(a,{children:"SOON !"}),e(a,{children:"SOON !"})]})]}),e(ie,{children:t(E,{children:[e(s,{color:"cyan.600",fontFamily:"Montserrat",fontSize:"md",children:"Your Borrowed assets"}),e(s,{color:"cyan.600",fontFamily:"Montserrat",fontSize:"md",children:"Your Value Borrowed"}),e(s,{color:"cyan.600",fontFamily:"Montserrat",fontSize:"md",children:"Your Value Borrowed in $"}),e(s,{color:"cyan.600",fontFamily:"Montserrat",fontSize:"md",children:"Borrowing power used "})]})}),e(ce,{fontFamily:"Montserrat",fontSize:"xl",fontWeight:"light",children:t(E,{children:[e(a,{children:"Libor Protocol Stablecoin USDL"}),t(a,{children:[" ",d/10**18," USDL"]}),t(a,{children:[d/10**18," $"]}),t(a,{children:[(d/W*100).toFixed(2),"%"]})]})})]}),e(Ne,{isAnimated:!0,hasStripe:!0,value:d/W*100,height:"15px",colorScheme:"red",bg:"green.400",borderRadius:"10",top:"7px",children:t(Te,{fontSize:"lg",fontFamily:"Montserrat",children:[(d/W*100).toFixed(2),"%"]})})]}),e(n,{children:t(c,{w:"70%",pos:"relative",bottom:"-10",children:[t(c,{layerStyle:"primary",children:[e(n,{children:t(c,{layerStyle:"secondary",children:[e(n,{position:"relative",top:"-6px",children:e(z,{size:"lg",fontFamily:"Montserrat",fontWeight:"bold",children:" Select your asset"})}),e(n,{children:t(Re,{children:[e(ze,{as:i,rightIcon:e(Ie,{}),color:"black",pos:"relative",top:"0px",bg:"#EEEEEE",fontSize:"lg",fontFamily:"Montserrat",w:"100%",children:Z}),e(n,{children:t(Ue,{bg:"cyan.700",justifyContent:"center",w:"187%",borderColor:"black",fontSize:"lg",fontFamily:"Montserrat",borderRadius:"20",children:[e(U,{_hover:{bg:"transparent"},_focus:{bg:"transparent"},justifyContent:"center",onClick:()=>k("WFTM"),borderRadius:"20",children:"WFTM"}),e(Q,{}),e(U,{_hover:{bg:"transparent"},_focus:{bg:"transparent"},justifyContent:"center",onClick:()=>k("WETH"),children:"WETH"}),e(Q,{}),e(U,{_hover:{bg:"transparent"},_focus:{bg:"transparent"},justifyContent:"center",onClick:()=>k("WBTC"),children:"WBTC"}),e(Q,{}),e(U,{_hover:{bg:"transparent"},_focus:{bg:"transparent"},justifyContent:"center",onClick:()=>k("XBOO"),borderRadius:"20",children:"XBOO"})]})})]})}),e(n,{position:"relative",top:"10px",children:e(z,{size:"md",fontFamily:"Montserrat",fontWeight:"bold",children:" Your wallet balance "})}),t(n,{position:"relative",top:"10px",textStyle:"data",children:[(Se/10**18).toFixed(5)," ",Z]})]})}),e(le,{value:S,onChange:F=>{isNaN(+F)||de(F)},children:e(n,{children:e(se,{borderColor:"grey",borderWidth:"2px",fontWeight:"300",fontFamily:"Montserrat",w:"70%",borderRadius:"30",color:"white",placeholder:"Enter your desired amount",_placeholder:{opacity:1,color:"white",textAlign:"center"},textAlign:"center",top:"30",bg:"gray.600"})})}),e(n,{children:t(c,{w:"80%",children:[e(i,{onClick:b.onOpen,variant:"greenButton",children:" Deposit"}),e(u,{}),e(i,{onClick:w.onOpen,variant:"redButton",children:" Withdraw"}),t(V,{motionPreset:"slideInBottom",leastDestructiveRef:l,onClose:b.onClose,isOpen:b.isOpen,isCentered:!0,children:[e(P,{backdropFilter:"auto",backdropBlur:"10px",bg:"blackAlpha.500"}),t(L,{bg:x,borderRadius:"20px",w:"2000px",children:[e(Y,{fontFamily:"Montserrat",color:"#EEEEEE",fontWeight:"100",children:"Confirm Deposit"}),e(_,{}),e(H,{fontFamily:"Montserrat",color:"#EEEEEE",fontWeight:"500",fontSize:"lg",children:t(n,{children:[" ",t(y,{children:["are you sure you want to deposit ",S," WETH ? "]})," "]})}),e(j,{children:t(c,{gap:"2",children:[e(i,{ref:l,onClick:b.onClose,bgColor:"red.500",w:"12",children:"No"}),e(u,{}),e(i,{bgColor:"green.500",w:"12",onClick:async()=>{h&&r.length===0?(await(await Me.fetch()).wait(),ee(),await(await re.fetch()).wait(),v(),b.onClose()):h&&r.length>0&&(await(await re.fetch()).wait(),v(),b.onClose())},children:"Yes"})]})})]})]}),t(V,{motionPreset:"slideInBottom",leastDestructiveRef:l,onClose:w.onClose,isOpen:w.isOpen,isCentered:!0,children:[e(P,{backdropFilter:"auto",backdropBlur:"10px",bg:"blackAlpha.500"}),"   ",t(L,{bg:x,borderRadius:"20px",w:"2000px",children:[e(Y,{fontFamily:"Montserrat",color:"#EEEEEE",fontWeight:"100",children:"Confirm Withdraw"}),e(_,{}),e(H,{fontFamily:"Montserrat",color:"#EEEEEE",fontWeight:"500",fontSize:"lg",children:t(n,{children:[" ",t(y,{children:["are you sure you want to withdraw ",S," WETH ? "]})," "]})}),e(j,{children:t(c,{gap:"2",children:[e(i,{ref:l,onClick:w.onClose,bgColor:"red.500",w:"12",children:"No"}),e(u,{}),e(i,{bgColor:"green.500",w:"12",onClick:async()=>{h&&r.length>0&&(await(await ve.fetch()).wait(),v(),w.onClose())},children:"Yes"})]})})]})]})]})})]}),e(u,{}),t(c,{layerStyle:"primary",children:[e(n,{children:t(c,{layerStyle:"secondary",children:[e(n,{position:"relative",top:"0px",children:e(z,{size:"lg",fontFamily:"Montserrat",fontWeight:"bold",children:" Your borrowed amount "})}),e(n,{position:"relative",top:"0px",children:t(y,{textStyle:"data",children:[" ",(d/10**18).toFixed(5)," $"]})}),e(n,{position:"relative",top:"5px",children:e(z,{size:"lg",fontFamily:"Montserrat",fontWeight:"bold",children:" Your Wallet Balance "})}),e(n,{position:"relative",top:"5px",children:t(y,{textStyle:"data",children:[" ",(O/10**18).toFixed(5)," USDL "]})})]})}),e(le,{value:A,onChange:F=>{isNaN(+F)||he(F)},children:e(n,{children:e(se,{borderColor:"grey",borderWidth:"2px",fontWeight:"300",fontFamily:"Montserrat",w:"70%",borderRadius:"30",color:"white",placeholder:"Enter your desired amount",_placeholder:{opacity:1,color:"white",textAlign:"center"},textAlign:"center",top:"30",bg:"gray.600"})})}),e(n,{children:t(c,{w:"80%",children:[e(i,{onClick:B.onOpen,variant:"greenButton",children:" Borrow"}),e(u,{}),e(i,{onClick:C.onOpen,variant:"redButton",children:" Repay"}),t(V,{motionPreset:"slideInBottom",leastDestructiveRef:l,onClose:B.onClose,isOpen:B.isOpen,isCentered:!0,children:[e(P,{backdropFilter:"auto",backdropBlur:"10px",bg:"blackAlpha.500"}),t(L,{bg:x,borderRadius:"20px",w:"2000px",children:[e(Y,{fontFamily:"Montserrat",color:"#EEEEEE",fontWeight:"100",children:"Confirm Borrow"}),e(_,{}),e(H,{fontFamily:"Montserrat",color:"#EEEEEE",fontWeight:"500",fontSize:"lg",children:t(n,{children:[" ",t(y,{children:["are you sure you want to borrow ",A," USDL ? "]})," "]})}),e(j,{children:t(c,{gap:"2",children:[e(i,{ref:l,onClick:B.onClose,bgColor:"red.500",w:"12",children:"No"}),e(u,{}),e(i,{bgColor:"green.500",w:"12",onClick:async()=>{h&&r.length>0&&(await(await ke.fetch()).wait(),$(),B.onClose)},children:"Yes"})]})})]})]}),t(V,{motionPreset:"slideInBottom",leastDestructiveRef:l,onClose:C.onClose,isOpen:C.isOpen,isCentered:!0,children:[e(P,{backdropFilter:"auto",backdropBlur:"10px",bg:"blackAlpha.500"}),"   ",t(L,{bg:x,borderRadius:"20px",w:"2000px",children:[e(Y,{fontFamily:"Montserrat",color:"#EEEEEE",fontWeight:"100",children:"Confirm Repayment"}),e(_,{}),e(H,{fontFamily:"Montserrat",color:"#EEEEEE",fontWeight:"500",fontSize:"lg",children:t(n,{children:[" ",t(y,{children:["are you sure you want to repay ",A," USDL ? "]})," "]})}),e(j,{children:t(c,{gap:"2",children:[e(i,{ref:l,onClick:C.onClose,bgColor:"red.500",w:"12",children:"No"}),e(u,{}),e(i,{bgColor:"green.500",w:"12",onClick:async()=>{h&&r.length>0&&(await(await Oe.fetch()).wait(),$(),C.onClose())},children:"Yes"})]})})]})]})]})})]})]})})]})}export{Ke as default};
