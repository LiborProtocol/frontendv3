import{n as N,r as t,u as Ne,a as d,p as m,b as De,j as o,c as e,C as r,d as l,H as D,ah as Te,ai as Re,B as i,aj as Ie,ak as K,al as re,S as p,T as C}from"./index.66e4f00a.js";import{a as Q}from"./AbiIERC20.a932546c.js";import{a as s,c as ae,P as Ue,b as Ve}from"./AbiVaultController.dee70104.js";import{C as Pe}from"./chakra-ui-icons.esm.55352cef.js";import{p as T}from"./index.c7cbedc6.js";import{T as ze,a as Le,b as ie,c as F,d as h,e as le,f as a}from"./chakra-ui-table.esm.959c85c6.js";import{N as ce,a as de,A as R,M as I,b as U,c as V,d as P,e as z,f as L}from"./chakra-ui-number-input.esm.153a8707.js";function Xe(){var ne;const f="#393E46",se="#00ADB5",w=N(),b=N(),y=N(),A=N(),[B,he]=t.exports.useState(""),[O,ue]=t.exports.useState(""),c=t.exports.useRef(null),[X,Y]=t.exports.useState("BNB"),Z=async()=>{await v.runContractFunction()},pe=async()=>{await W.runContractFunction()},S=async()=>{await H.runContractFunction()},j=async()=>{await _.runContractFunction()},fe=async()=>{await $.runContractFunction()},be=async()=>{await J.runContractFunction()},ge=async()=>{await q.runContractFunction()},[g,Ee]=t.exports.useState(""),[Ye,xe]=t.exports.useState(""),[n,me]=t.exports.useState(""),[E,Ce]=t.exports.useState(""),[k,Fe]=t.exports.useState(0),[u,we]=t.exports.useState(0),[M,ye]=t.exports.useState(1e-6),[je,Ae]=t.exports.useState(0),[Be,Oe]=t.exports.useState(0),{isAuthenticated:x,Moralis:He,account:ee,user:oe}=Ne();t.exports.useEffect(()=>{x&&(oe&&xe(oe.attributes.ethAddress),ee&&Ee(ee))}),t.exports.useEffect(()=>{g&&Z()},[g]),t.exports.useEffect(()=>{v.data&&me(v.data)}),t.exports.useEffect(()=>{n.length>0&&pe()},[n]),t.exports.useEffect(()=>{W.data&&Ce(W.data)}),t.exports.useEffect(()=>{E.length>0&&S()},[E]),t.exports.useEffect(()=>{H.data&&Fe(parseInt(H.data))}),t.exports.useEffect(()=>{n.length>0&&j()},[n]),t.exports.useEffect(()=>{_.data&&we(parseInt(_.data))}),t.exports.useEffect(()=>{n.length>0&&fe()},[n]),t.exports.useEffect(()=>{$.data&&ye(parseInt($.data))}),t.exports.useEffect(()=>{n.length>0&&be()},[n]),t.exports.useEffect(()=>{J.data&&Oe(parseInt(J.data))}),t.exports.useEffect(()=>{n.length>0&&ge()},[n]),t.exports.useEffect(()=>{q.data&&Ae(parseInt(q.data))});const v=d({abi:s,address:"0x0d9bC0A527f72CAB1591d13aFeC74810744FA184",functionName:"vaultIDs",params:{wallet:g},chain:"goerli"}),W=d({abi:s,address:"0x0d9bC0A527f72CAB1591d13aFeC74810744FA184",functionName:"vaultAddress",params:{id:n[0]},chain:"goerli"}),H=d({abi:ae,address:E,functionName:"tokenBalance",params:{addr:"0xB4FBF271143F4FBf7B91A5ded31805e42b2208d6"},chain:"goerli"});console.log("START"),console.log(g),console.log(n),console.log(v.data),console.log(W.data),console.log(E),console.log(k),console.log(u),console.log(M),console.log("END"),m(),d({abi:s,address:"0x0d9bC0A527f72CAB1591d13aFeC74810744FA184",functionName:"vaultsMinted",params:{},chain:"goerli"});const $=d({abi:s,address:"0x0d9bC0A527f72CAB1591d13aFeC74810744FA184",functionName:"vaultBorrowingPower",params:{id:n[0]},chain:"goerli"}),_=d({abi:s,address:"0x0d9bC0A527f72CAB1591d13aFeC74810744FA184",functionName:"vaultLiability",params:{id:n[0]},chain:"goerli"}),J=d({abi:Q,address:"0xB4FBF271143F4FBf7B91A5ded31805e42b2208d6",functionName:"balanceOf",params:{account:g},chain:"goerli"}),q=d({abi:Q,address:"0xB8Af8C538EE795e5D79cD74F0D00B10FF4a00918",functionName:"balanceOf",params:{account:g},chain:"goerli"}),Se=De({address:"0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",chain:"eth"}),ke=m({abi:s,contractAddress:"0x0d9bC0A527f72CAB1591d13aFeC74810744FA184",functionName:"mintVault",params:{}}),te=m({abi:Q,contractAddress:"0xB4FBF271143F4FBf7B91A5ded31805e42b2208d6",functionName:"transfer",params:{recipient:E,amount:T(B||"0","ether")}}),Me=m({abi:s,contractAddress:"0x0d9bC0A527f72CAB1591d13aFeC74810744FA184",functionName:"borrowUsdi",params:{id:n[0],amount:T(O||"0","ether")}}),ve=m({abi:ae,contractAddress:E,functionName:"withdrawErc20",params:{token_address:"0xB4FBF271143F4FBf7B91A5ded31805e42b2208d6",amount:T(B||"0","ether")}}),We=m({abi:s,contractAddress:"0x0d9bC0A527f72CAB1591d13aFeC74810744FA184",functionName:"repayUSDi",params:{id:n[0],amount:T(O||"0","ether")}});return o("div",{children:[o(ze,{borderWidth:"2px",borderRadius:"3xl",p:"4",flexDirection:"column",justifyContent:"space-between",boxShadow:"dark-lg",borderColor:"blackAlpha.500",bg:f,color:"#EEEEEE",fontFamily:"Merienda One",children:[o(Le,{variant:"simple",color:"#EEEEEE",children:[e(ie,{children:o(F,{children:[e(h,{color:"#00EAFF",fontFamily:"Merienda One",children:" Your deposited Assets"}),e(h,{color:"#00EAFF",fontFamily:"Merienda One",children:"Your Value deposited"}),e(h,{color:"#00EAFF",fontFamily:"Merienda One",children:"Your Value deposited in $"}),e(h,{color:"#00EAFF",fontFamily:"Merienda One",children:"Loan-To-Value"})]})}),o(le,{children:[o(F,{children:[e(a,{children:"SOON !"}),e(a,{children:"SOON !"}),e(a,{children:"SOON !"}),e(a,{children:"SOON !"})]}),o(F,{children:[e(a,{children:"Wrapped Ethereum WETH"}),o(a,{children:[(k/10**18).toFixed(4)," WETH"]}),o(a,{children:[(parseInt(JSON.stringify((ne=Se.data)==null?void 0:ne.usdPrice,null,2))*k/10**18).toFixed(2),"$"]}),e(a,{children:"85%"})]}),o(F,{children:[e(a,{children:"SOON !"}),e(a,{children:"SOON !"}),e(a,{children:"SOON !"}),e(a,{children:"SOON !"})]})]}),e(ie,{children:o(F,{children:[e(h,{color:"#00EAFF",fontFamily:"Merienda One",children:"Your Borrowed assets"}),e(h,{color:"#00EAFF",fontFamily:"Merienda One",children:"Your Value Borrowed"}),e(h,{color:"#00EAFF",fontFamily:"Merienda One",children:"Your Value Borrowed in $"}),e(h,{color:"#00EAFF",fontFamily:"Merienda One",children:"Borrowing power used "})]})}),e(le,{children:o(F,{children:[e(a,{children:"Libor Protocol Stablecoin USDL"}),o(a,{children:[" ",u/10**18," USDL"]}),o(a,{children:[u/10**18," $"]}),o(a,{children:[(u/M*100).toFixed(2),"%"]})]})})]}),e(Ue,{isAnimated:!0,hasStripe:!0,value:u/M*100,height:"15px",colorScheme:"red",bg:"green.400",borderRadius:"10",top:"7px",children:o(Ve,{fontSize:"lg",fontFamily:"Merienda One",children:[(u/M*100).toFixed(2),"%"]})})]}),e(r,{children:o(l,{w:"70%",pos:"relative",bottom:"-10",children:[o(l,{layerStyle:"primary",children:[e(r,{children:o(l,{layerStyle:"secondary",children:[e(r,{position:"relative",top:"-6px",children:e(D,{size:"lg",fontFamily:"Merienda One",fontWeight:"900",children:" Select your asset"})}),e(r,{children:o(Te,{children:[e(Re,{as:i,rightIcon:e(Pe,{}),color:"black",pos:"relative",top:"0px",bg:"#EEEEEE",fontSize:"lg",fontFamily:"Merienda One",w:"100%",children:X}),e(r,{children:o(Ie,{bg:"#EEEEEE",justifyContent:"center",w:"187%",borderColor:"black",fontSize:"lg",fontFamily:"Merienda One",borderRadius:"20",children:[e(K,{justifyContent:"center",onClick:()=>Y("BNB"),borderRadius:"20",children:"BNB"}),e(re,{}),e(K,{justifyContent:"center",onClick:()=>Y("WETH"),children:"WETH"}),e(re,{}),e(K,{justifyContent:"center",onClick:()=>Y("WBTC"),borderRadius:"20",children:"WBTC"})]})})]})}),e(r,{position:"relative",top:"10px",children:e(D,{size:"md",fontFamily:"Merienda One",fontWeight:"900",children:" Your wallet balance "})}),o(r,{position:"relative",top:"10px",textStyle:"dataSmall",children:[(Be/10**18).toFixed(5)," ",X]})]})}),e(ce,{value:B,onChange:G=>he(G),children:e(r,{children:e(de,{borderColor:"grey",borderWidth:"2px",fontWeight:"300",fontFamily:"Merienda One",w:"70%",borderRadius:"30",color:"white",placeholder:"Enter your desired amount",_placeholder:{opacity:1,color:"white",textAlign:"center"},textAlign:"center",top:"30",bg:"gray.600"})})}),e(r,{children:o(l,{w:"80%",children:[e(i,{onClick:b.onOpen,variant:"greenButton",children:" Deposit"}),e(p,{}),e(i,{onClick:w.onOpen,variant:"redButton",children:" Withdraw"}),o(R,{motionPreset:"slideInBottom",leastDestructiveRef:c,onClose:b.onClose,isOpen:b.isOpen,isCentered:!0,children:[e(I,{backdropFilter:"auto",backdropBlur:"10px",bg:"blackAlpha.500"}),o(U,{bg:f,borderRadius:"20px",w:"2000px",children:[e(V,{fontFamily:"Merienda One",color:"#EEEEEE",fontWeight:"100",children:"Confirm Deposit"}),e(P,{}),e(z,{fontFamily:"Merienda One",color:"#EEEEEE",fontWeight:"500",fontSize:"lg",children:o(r,{children:[" ",o(C,{children:["are you sure you want to deposit ",B," WETH ? "]})," "]})}),e(L,{children:o(l,{gap:"2",children:[e(i,{ref:c,onClick:b.onClose,bgColor:"red.500",w:"12",children:"No"}),e(p,{}),e(i,{bgColor:"green.500",w:"12",onClick:async()=>{x&&n.length==0?(await(await ke.fetch()).wait(),Z(),await(await te.fetch()).wait(),S(),b.onClose()):x&&n.length>0&&(await(await te.fetch()).wait(),S(),b.onClose())},children:"Yes"})]})})]})]}),o(R,{motionPreset:"slideInBottom",leastDestructiveRef:c,onClose:w.onClose,isOpen:w.isOpen,isCentered:!0,children:[e(I,{backdropFilter:"auto",backdropBlur:"10px",bg:"blackAlpha.500"}),"   ",o(U,{bg:f,borderRadius:"20px",w:"2000px",children:[e(V,{fontFamily:"Merienda One",color:"#EEEEEE",fontWeight:"100",children:"Confirm Withdraw"}),e(P,{}),e(z,{fontFamily:"Merienda One",color:"#EEEEEE",fontWeight:"500",fontSize:"lg",children:o(r,{children:[" ",o(C,{children:["are you sure you want to withdraw ",B," WETH ? "]})," "]})}),e(L,{children:o(l,{gap:"2",children:[e(i,{ref:c,onClick:w.onClose,bgColor:"red.500",w:"12",children:"No"}),e(p,{}),e(i,{bgColor:"green.500",w:"12",onClick:async()=>{x&&n.length>0&&(await(await ve.fetch()).wait(),S(),w.onClose())},children:"Yes"})]})})]})]})]})})]}),e(p,{}),o(l,{borderWidth:"2px",borderRadius:"3xl",p:"4",flexDirection:"column",justifyContent:"space-between",boxShadow:"dark-lg",borderColor:"blackAlpha.500",bg:f,color:"#EEEEEE",h:"450px",w:"45%",children:[e(r,{children:o(l,{boxShadow:"dark-lg",h:"150px",bg:se,w:"80%",color:"black",borderWidth:"1px",borderRadius:"3xl",borderColor:"blackAlpha.500",p:"4",position:"relative",top:"60px",flexDirection:"column",justifyContent:"center",children:[e(r,{position:"relative",top:"-6px",children:e(D,{size:"lg",fontFamily:"Merienda One",fontWeight:"900",children:" Your borrowed amount "})}),e(r,{position:"relative",top:"-6px",children:o(C,{fontSize:"3xl",fontFamily:"Leckerli One",color:"#EEEEEE",textShadow:"3px 3px #000000",fontWeight:"900",children:[" ",(u/10**18).toFixed(5)," $"]})}),e(r,{position:"relative",top:"10px",children:e(D,{size:"md",fontFamily:"Merienda One",fontWeight:"900",children:" Your Wallet Balance "})}),e(r,{position:"relative",top:"10px",children:o(C,{fontSize:"2xl",fontFamily:"Leckerli One",color:"#EEEEEE",textShadow:"3px 3px #000000",fontWeight:"900",children:[" ",(k/10**18).toFixed(5)," USDL "]})})]})}),e(ce,{value:O,onChange:G=>ue(G),children:e(r,{children:e(de,{borderColor:"grey",borderWidth:"2px",fontWeight:"300",fontFamily:"Merienda One",w:"70%",borderRadius:"30",color:"white",placeholder:"Enter your desired amount",_placeholder:{opacity:1,color:"white",textAlign:"center"},textAlign:"center",top:"30",bg:"gray.600"})})}),e(r,{children:o(l,{w:"80%",children:[e(i,{onClick:A.onOpen,w:"40%",pos:"relative",bottom:"20px",color:"black",bg:"green.600",h:"50px",borderWidth:"1px",borderRadius:"2xl",borderColor:"blackAlpha.500",p:"4",boxShadow:"dark-lg",fontFamily:"Merienda One",fontSize:"3xl",fontWeight:"100",children:" Borrow"}),e(p,{}),e(i,{onClick:y.onOpen,w:"40%",pos:"relative",bottom:"20px",color:"black",bg:"red.600",h:"50px",borderWidth:"1px",borderRadius:"2xl",borderColor:"blackAlpha.500",p:"4",boxShadow:"dark-lg",fontFamily:"Merienda One",fontSize:"3xl",fontWeight:"100",children:" Repay"}),o(R,{motionPreset:"slideInBottom",leastDestructiveRef:c,onClose:A.onClose,isOpen:A.isOpen,isCentered:!0,children:[e(I,{backdropFilter:"auto",backdropBlur:"10px",bg:"blackAlpha.500"}),o(U,{bg:f,borderRadius:"20px",w:"2000px",children:[e(V,{fontFamily:"Merienda One",color:"#EEEEEE",fontWeight:"100",children:"Confirm Borrow"}),e(P,{}),e(z,{fontFamily:"Merienda One",color:"#EEEEEE",fontWeight:"500",fontSize:"lg",children:o(r,{children:[" ",o(C,{children:["are you sure you want to borrow ",O," USDI ? "]})," "]})}),e(L,{children:o(l,{gap:"2",children:[e(i,{ref:c,onClick:A.onClose,bgColor:"red.500",w:"12",children:"No"}),e(p,{}),e(i,{bgColor:"green.500",w:"12",onClick:async()=>{x&&n.length>0&&(await(await Me.fetch()).wait(),j(),A.onClose())},children:"Yes"})]})})]})]}),o(R,{motionPreset:"slideInBottom",leastDestructiveRef:c,onClose:y.onClose,isOpen:y.isOpen,isCentered:!0,children:[e(I,{backdropFilter:"auto",backdropBlur:"10px",bg:"blackAlpha.500"}),"   ",o(U,{bg:f,borderRadius:"20px",w:"2000px",children:[e(V,{fontFamily:"Merienda One",color:"#EEEEEE",fontWeight:"100",children:"Confirm Repayment"}),e(P,{}),e(z,{fontFamily:"Merienda One",color:"#EEEEEE",fontWeight:"500",fontSize:"lg",children:o(r,{children:[" ",o(C,{children:["are you sure you want to repay ",O," USDI ? "]})," "]})}),e(L,{children:o(l,{gap:"2",children:[e(i,{ref:c,onClick:y.onClose,bgColor:"red.500",w:"12",children:"No"}),e(p,{}),e(i,{bgColor:"green.500",w:"12",onClick:async()=>{x&&n.length>0&&(await(await We.fetch()).wait(),j(),y.onClose())},children:"Yes"})]})})]})]})]})})]})]})})]})}export{Xe as default};
